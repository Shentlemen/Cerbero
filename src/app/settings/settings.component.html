<div class="settings-container">
  <h2>
    <i class="fas fa-cogs me-2"></i>
    Configuración del Sistema
  </h2>
  
  <div class="sync-section">
    <h3>
      <i class="fas fa-database me-2"></i>
      Sincronización de Bases de Datos
    </h3>
    
    <button 
      class="btn btn-primary sync-button" 
      (click)="mostrarConfirmacion(confirmModal)"
      [disabled]="isSyncing">
      <i class="fas fa-sync-alt me-2" [class.fa-spin]="isSyncing"></i>
      {{ isSyncing ? 'Sincronizando...' : 'Sincronizar Bases de Datos' }}
    </button>

    <!-- Template del modal -->
    <ng-template #confirmModal let-modal>
      <div class="modal-header">
        <h4 class="modal-title">
          <i class="fas fa-exclamation-triangle text-warning me-2"></i>
          Confirmar Sincronización
        </h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
      </div>
      <div class="modal-body">
        <p>¿Está seguro que desea iniciar la sincronización?</p>
        <p class="text-warning">
          <i class="fas fa-clock me-2"></i>
          Este proceso puede cagar la base de datos.
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">
          <i class="fas fa-times me-2"></i>
          Cancelar
        </button>
        <button type="button" class="btn btn-primary" (click)="modal.close('confirm')">
          <i class="fas fa-check me-2"></i>
          Confirmar
        </button>
      </div>
    </ng-template>

    <!-- Resultados de sincronización -->
    <div *ngIf="syncResult" class="sync-results">
      <h4>
        <i class="fas fa-check-circle me-2"></i>
        Resultados de la sincronización
      </h4>
      <div class="alert alert-success">
        <div *ngFor="let item of syncResult | keyvalue">
          <i class="fas fa-check me-2"></i>
          <strong>{{item.key}}:</strong> {{item.value}}
        </div>
      </div>
    </div>

    <!-- Mensaje de error -->
    <div *ngIf="error" class="alert alert-danger">
      <i class="fas fa-exclamation-triangle me-2"></i>
      {{error}}
    </div>
  </div>
</div>
